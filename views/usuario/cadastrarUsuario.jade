extends ../layout

block content
	main.noticias
		section.fotoTopo.row				
		div
			div.row.listaTopoCadastrado
				div.listaCadastradoTopo
					a(href='listaUsuarios', type='submit') Ver lista de Associados
			.row
				div.col-sm-6.col-md-4.col-md-offset-4.divCadastrar
					h1.text-center.login-title#AAP Cadastrar Associado
					br
					div.signup-wall
						form(class='form-signin formCadastrarListando', action='/usuario/registrar', method='POST')
							select.form-control.pull-right(name='tipoConta' id="mySelect" onchange="myFunction()")
								option(value='associado') Associado
								option(value='administrador') Administrador
								option(value='portaria') Portaria
							label(class='labelFormCadastrar') Nome
							input(type='text', name='nome', class='form-control', placeholder='Nome', required)
							br
							label(class='labelFormCadastrar') CPF
							input(type='text', name='cpf', class='form-control cpf', placeholder='CPF',required)
							br
							div#endereco
								label(class='labelFormCadastrar') Endereço
								br
								input(type='text', name='rua', class='form-control form-gran-rua', placeholder='Rua')
								input(type='text', name='numeroCasa', class='form-control form-gran-numero', placeholder='Número')
								br
							label(class='labelFormCadastrar') Unidade
							input(type='text', name='unidade', class='form-control', placeholder='Unidade', required)
							br
							label(class='labelFormCadastrar') E-mail
							input(type='email', name='email', class='form-control', placeholder='Email', required)
							br
							label(class='labelFormCadastrar meioContato') Contato
							div.telefone
								input(type='text', name='fixo', class='form-control telefone phone', id="fixo" placeholder='Telefone fixo',required)
								input(type='text', name='celular', class='form-control telefone phone', id="celular" placeholder='Celular',required)
								input(type='text', name='comercial', class='form-control telefone telefone2 phone', id="comercial" placeholder='Telefone comercial')
								br
							div.senha
								label(class='labelFormCadastrar') Senha
								input(type='password', name='password', class='form-control nomargin', id="password" placeholder='Senha', required)
							br								
							br
							button(class='btn btn-lg btn-primary btn-block', type='submit') Concluir Cadastro
							span.clearfix
							a(href='listaUsuarios', class='btn btn-link btn-block', type='submit') Ver lista de cadastrados
							span.clearfix
		.container
			.row
				a.btn.btn-sm.btn-gran.voltar.pull-right(href="#", onclick='goBack()') 
					i.fa.fa-reply &nbsp Voltar

		script(src='//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js')		
		script(src='/jquery/mask.min.js')
		script.
			function myFunction() {
			    var x = document.getElementById("mySelect").value;
			    if (x == "associado"){
			    	$( "#endereco" ).show();
			    	$( "#comercial" ).show();
			    	$( "#AAP").html("Cadastrar Associado");
			    } else if (x == "administrador") {
			    	$( "#endereco" ).hide();
			    	$( "#comercial" ).hide();
			    	$( "#AAP").html("Cadastrar Administrador");
			    } else {
					$( "#endereco" ).hide();
			    	$( "#comercial" ).hide();
			    	$( "#AAP").html("Cadastrar Portaria");
			    }
			}
			$(document).ready(function(){
				$('.cpf').mask('000.000.000-00', {reverse: true});
				var maskBehavior = function (val) {
				 return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
				},
				options = {onKeyPress: function(val, e, field, options) {
				 field.mask(maskBehavior.apply({}, arguments), options);
				 }
				};
				 
				$('.phone').mask(maskBehavior, options);
			});	
	
			$(document).ready(function(){
				var maxField = 100; //Input fields increment limitation
				var addButton = $('.add_button'); //Add button selector
				var wrapper = $('.field_wrapper'); //Input field wrapper
				var fieldHTML = '<div><input type="text" name="nomeDependente" class="form-control telefone" value="" placeholder="Nome do Dependente" /><input type="text" name="telefoneDependente" class="form-control telefone phone" value="" placeholder="Telefone do Dependente"/><input type="text" name="vinculoDependente" class="form-control telefone" value="" placeholder="Vínculo do Dependente"/><a href="javascript:void(0);" class="remove_button" title="Remove field"><img src="/img/home/buttonMenos.png" /></a></div>'; //New input field html 
				var x = 1; //Initial field counter is 1
				$(addButton).click(function(){ //Once add button is clicked
					if(x < maxField){ //Check maximum number of input fields
						x++; //Increment field counter
						$(wrapper).append(fieldHTML); // Add field html
					}
				});
				$(wrapper).on('click', '.remove_button', function(e){ //Once remove button is clicked
					e.preventDefault();
					$(this).parent('div').remove(); //Remove field html
					x--; //Decrement field counter
				});
			});


			function dependente() {
			    var numeroDedependente = Number(document.getElementById("numeroDedependente").value);
				var i = 0;
			    if (i < numeroDedependente){
			    	var $wrapper = document.querySelector('.wrapper'),
					 
					    // Cria uma string de texto
					    HTMLNovo = document.createTextNode('Inserido usando DOM API'),
					 
					    // Cria um Node de um BR
					    HTMLBr = document.createElement('input');
						 
						// Insere o BR, antes do ultimo node do elemento
						$wrapper.insertBefore(HTMLBr, $wrapper.lastChild);

			    	document.getElementById("dependentesNomeTelefoneVinculo").createElement( "input(type='text' id='nome' readonly='readonly')" );	
			    	i++		
			    }
			    

			}